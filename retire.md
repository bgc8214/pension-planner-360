# **PRD: 연금 플래너 360 (v2.4.1, 세법 최종본)**

  * **문서 버전:** 2.4.1
  * **업데이트:** 2025년 9월 26일
  * **핵심 변경사항:** 연금 수령 시뮬레이션에 **'비과세 재원(원금)' 우선 인출 로직** 및 **부분 과세(비례 과세) 로직** 추가, 계산 공식 고도화.

## **1. 개요 (Introduction)**

  * **제품명:** 연금 플래너 360
  * **목표:** 연금저축 및 IRP 가입자를 위한 웹 기반 시뮬레이터. 사용자가 ①세액공제 혜택, ②미래 연금자산, ③연금 수령 시 세금, ④은퇴 후 자산 변화를 명확히 이해하고 전략을 수립하도록 돕는다.
  * **핵심 컨셉:** 투명한 계산 공식과 장기적인 자산 흐름을 제공하는 교육적/전략적 시뮬레이터.

-----

## **2. 사용자 페르소나 (User Personas)**

  * **사회초년생 김민준 (29세):** 당장의 세액공제 혜택이 가장 궁금함.
  * **과장 박서연 (38세):** 미래 자산 규모와 수령 시 세금에 대한 막연한 불안감이 있음.
  * **은퇴 예정자 이현우 (54세):** 구체적인 인출 계획과 자산이 언제까지 지속될지가 가장 중요함.

-----

## **3. 데이터 모델 (상태 관리)**

애플리케이션의 핵심 상태(state)는 다음과 같은 한글 객체 구조를 가집니다.

```json
{
  // --- 사용자 입력 값 ---
  "입력값": {
    "총급여액": 90000000,
    "연금저축납입액": 6000000,
    "연금저축한도초과납입액": 0, // 세액공제 한도(600만원) 초과분 (총 연금저축 한도 1,800만원)
    "IRP납입액": 3000000,
    "IRP한도초과납입액": 0, // 세액공제 한도 초과분 (전체 연금계좌 한도 1,800만원)
    "만50세이상": true,
    "현재나이": 35,
    "은퇴나이": 60,
    "연평균수익률": 5.0,
    "연간수령액": 50000000,
    "연금외소득": 0
  },
  // --- 계산 결과 값 ---
  "결과값": {
    "세액공제": { /* ... */ },
    "미래자산": { 
      "총납입원금": 90000000,
      "총미래가치": 514354387,
      "비과세원금": 0 // 세액공제 한도를 초과하는 납입액
    },
    "연금수령시뮬레이션": { /* ... */ },
    "자산변화시뮬레이션": [
      { "연차": 1, "나이": 60, "기초자산": 514354387, "연간운용수익": 25717719, "세후인출액": 44868500, "기말자산": 495203606 },
      { /* ... */ }
    ]
  }
}
```

-----

## **4. 기능 명세 및 계산 공식**

### **모듈 1: 연간 이득 계산기 (세액공제)**

  * **목표:** 올해 받을 수 있는 세금 환급액을 즉시 계산하여 보여준다.
  * **계산 공식:** (이전 PRD와 동일)
    1.  **`총납입액`** = `연금저축납입액` + `연금저축한도초과납입액` + `IRP납입액` + `IRP한도초과납입액`
    2.  **`세액공제대상금액`** = `Math.min(연금저축납입액, 6000000)` + `Math.min(IRP납입액, Math.max(0, 9000000 - 연금저축세액공제대상))`
    3.  **`세액공제한도초과금액`** = `총납입액` - `세액공제대상금액`
    4.  **`적용세율`** = `(총급여액 <= 55000000) ? 0.165 : 0.132`
    5.  **`예상환급액`** = `세액공제대상금액 * 적용세율`
    6.  **`납입한도검증`**: 전체 연금계좌 납입액은 연간 1,800만원을 초과할 수 없음

-----

### **모듈 2: 미래 자산 시뮬레이터 (연금 성장)**

  * **목표:** 현재의 납입액이 은퇴 시점에 얼마가 될지 복리 효과를 시각적으로 보여준다.
  * **계산 공식:** (세제혜택 구분 반영)
    1.  **`납입기간`** = `은퇴나이` - `현재나이`
    2.  **`총납입원금`** = `총납입액` \* `납입기간`
    3.  **`총미래가치`** = `총납입액` \* `(((1 + (연평균수익률/100))^납입기간 - 1) / (연평균수익률/100))`
    4.  **`총예상수익`** = `총미래가치` - `총납입원금`
    5.  **`비과세원금`**: 세액공제 한도를 초과하는 실제 납입 원금 (`Math.max(총납입액-9000000, 0)` \* `납입기간`)
    6.  **`납입한도제한`**:
       - 연금저축: 세액공제 대상 600만원 + 추가납입 최대 1,200만원 = 총 1,800만원
       - IRP: 세액공제 대상 최대 300만원 + 추가납입 (전체 한도 1,800만원 내)
       - 전체 연금계좌: 연간 1,800만원 한도

-----

### **모듈 3: 전략적 연금 수령 시뮬레이터 (상세 세금 계산)**

  * **목표:** 연금 수령 시 발생하는 세금을 두 가지 시나리오(종합과세 vs 분리과세)로 나누어, 상세한 계산 과정과 함께 투명하게 비교 제시한다.

  * **계산 기준:** **비과세 원금이 모두 소진된 후**의 상황을 가정하여 세금을 계산한다. 실제로는 비과세 원금이 있는 동안 해당 부분에 대해서는 세금이 부과되지 않으며, 이는 모듈 4에서 반영된다.

  * **화면 구성:** (세법 반영 최종안)

#### **\< 과세 방식 비교 (1,500만원 초과) \>**

##### **[ 옵션 1: 종합과세 ]** `권장`

| 항목 | 계산 과정 | 금액 |
| :--- | :--- | :--- |
| **연간 수령액** | `(세전 연금소득)` | **50,000,000원** |
| **(-) 연금소득공제** | `(한도 900만원 적용)` | **9,000,000원** |
| **(=) 연금소득금액**| | `41,000,000원` |
| **(-) 인적공제 (본인)**| `(기본 150만원)` | `1,500,000원` |
| **(=) 과세표준** | | `39,500,000원` |
| **(→) 산출세액** | `(39.5백만원 × 15%) - 126만원` | `4,665,000원` |
| **(+) 지방소득세** | `산출세액 × 10%` | `466,500원` |
| **(=) 총 납부세액** | | **5,131,500원** |
| **세후 실수령액** | `연간 수령액 - 총 납부세액` | **44,868,500원** |

##### **[ 옵션 2: 16.5% 분리과세 ]**

| 항목 | 계산 과정 | 금액 |
| :--- | :--- | :--- |
| **연간 수령액** | | **50,000,000원** |
| **(×) 적용 세율** | `(분리과세 단일세율)` | **16.5%** |
| **(=) 총 납부세액** | `50,000,000원 × 16.5%` | **8,250,000원** |
| **세후 실수령액** | `연간 수령액 - 총 납부세액`| **41,750,000원** |

-----

### **모듈 4: 연금 자산 변화 시뮬레이터 (연금 고갈 시점 예측)**

  * **목표:** 은퇴 후 매년 연금을 인출할 때, 남은 자산의 증감 추이를 보여주어 연금의 지속 가능 기간을 예측하게 한다.

  * **입력값:**

      * `시작자산`: 모듈 2 `총미래가치`
      * `연평균수익률`: 모듈 2 `연평균수익률`
      * `연간수령요청액`: 모듈 3 `입력값.연간수령액`
      * `시작나이`: 모듈 2 `은퇴나이`
      * **`비과세원금`**: 모듈 2에서 계산된 `비과세원금`

  * **화면 구성:** (비과세 원금 인출 로직 반영)

#### **💰 연금 자산 변화 시뮬레이션**

> 은퇴 시점의 총 **514,354,387원**을 연 \*\*5%\*\*로 운용하며, 매년 **50,000,000원**을 인출할 경우, 고객님의 연금은 **약 78세**까지 수령 가능할 것으로 예상됩니다. (단, **비과세 재원은 세금 없이 먼저 인출**됩니다.)

| 연차 (나이) | 기초자산 | 연간 운용수익 (5%) | 세전 인출액 | 납부세액 | 세후 인출액 | 기말자산 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **1년차 (60세)** | 514,354,387 | + 25,717,719 | - 50,000,000 | **0원** (전액 비과세) | **50,000,000원** | 490,072,106 |
| **...** | **...** | **...** | **...** | **...** | **...** | **...** | **...** |
| **N년차** | ... | ... | - 50,000,000 | **2,565,750원** (부분 과세 50%) | **47,434,250원** | ... |
| **비과세 원금 완전 소진** | ... | ... | - 50,000,000 | **5,131,500원** (전액 과세) | **44,868,500원** | ... |

  * **계산 로직:**
      * `기말자산`이 `세후연간인출액`보다 작아질 때까지 아래 공식을 매년 반복한다.
      * `비과세원금잔액`을 추적하는 변수를 추가한다.

<!-- end list -->

1.  **`기초자산(t)`** = `기말자산(t-1)`

2.  **`연간운용수익(t)`** = `기초자산(t) * (연평균수익률 / 100)`

3.  **`수령요청액`** = `입력값.연간수령액`

4.  **세금 계산 로직 (부분 과세 적용)**

      * **IF** `비과세원금잔액(t-1)` ≥ `수령요청액`
          * **`납부세액`** = 0원 (전액 비과세)
          * **`세후인출액`** = `수령요청액`
          * **`총인출액 (세전)`** = `수령요청액`
          * **`비과세원금잔액(t)`** = `비과세원금잔액(t-1) - 수령요청액`
      * **ELSE IF** `비과세원금잔액(t-1)` > 0 (부분 과세)
          * **`비과세인출액`** = `비과세원금잔액(t-1)`
          * **`과세인출액`** = `수령요청액 - 비과세인출액`
          * **`과세비율`** = `과세인출액 / 수령요청액`
          * **`납부세액`** = `총 납부세액 × 과세비율` (비례 과세)
          * **`세후인출액`** = `수령요청액 - 납부세액`
          * **`총인출액 (세전)`** = `수령요청액`
          * **`비과세원금잔액(t)`** = 0원
      * **ELSE** (`비과세원금`이 완전 소진된 경우)
          * **`납부세액`** = 모듈 3에서 계산된 `총 납부세액` (전액 과세)
          * **`세후인출액`** = 모듈 3에서 계산된 `세후 실수령액`
          * **`총인출액 (세전)`** = `수령요청액`
          * **`비과세원금잔액(t)`** = 0원

5.  **`기말자산(t)`** = `기초자산(t) + 연간운용수익(t) - 총인출액 (세전)`

-----

## **5. 2025년 연금저축 납입한도 및 세법 정보**

### **5.1 납입한도 체계**

#### **세액공제 한도**
- **연금저축계좌**: 연간 600만원
- **IRP(개인형퇴직연금)**: 연금저축과 합산하여 연간 900만원
- **세액공제율**:
  - 총급여 5,500만원 이하 또는 종합소득 4,500만원 이하: **16.5%**
  - 총급여 5,500만원 초과 또는 종합소득 4,500만원 초과: **13.2%**

#### **총 납입한도**
- **연금저축계좌**: 연간 1,800만원 (세액공제 600만원 + 추가납입 1,200만원)
- **전체 연금계좌**: 연간 1,800만원 (연금저축, IRP, 퇴직연금 DC형 합산)

#### **추가납입액 특징**
- **세액공제 없음**: 600만원(연금저축) 또는 900만원(IRP 포함) 초과분
- **수령시 비과세**: 추가납입 원금은 연금 수령시 세금 부과 없음
- **우선인출**: 연금 수령시 비과세 원금을 먼저 인출하여 세금 부담 최소화

### **5.2 시스템 적용 로직**

#### **입력값 검증**
1. 연금저축 세액공제 대상: 최대 600만원
2. 연금저축 추가납입: 연금저축 총한도 1,800만원에서 세액공제 대상액을 뺀 금액
3. IRP 세액공제 대상: 연금저축과 합쳐서 최대 900만원
4. IRP 추가납입: 전체 연금계좌 1,800만원 한도 내에서
5. 전체 납입액 검증: 모든 연금계좌 합산 1,800만원 초과 불가

#### **사용자 안내**
- 한도 초과시 자동 제한 및 경고 메시지 표시
- 세액공제 대상과 추가납입 구분 명시
- 실시간 한도 계산 및 가이드 제공

-----

## **6. 비기능적 요구사항**

  * **사용성 (Usability):** 복잡한 금융 정보를 처음 접하는 사용자도 쉽게 이해하고 조작할 수 있는 직관적인 UI/UX를 제공한다.
  * **반응형 웹 (Responsive Web):** PC, 태블릿, 모바일 등 모든 디바이스에서 최적화된 화면과 사용 경험을 제공한다.
  * **보안 (Security):** 사용자의 어떠한 개인정보도 서버에 저장하지 않으며, 모든 계산은 클라이언트 사이드에서 처리하는 것을 원칙으로 한다.
  * **정확성 및 최신성 (Accuracy & Up-to-dateness):** 모든 세율, 공제 한도 등은 현행 세법(2025년 기준)을 정확히 반영해야 하며, 세법 개정 시 신속하게 업데이트할 수 있는 구조로 설계한다.

-----

## **7. 성공 지표 (Success Metrics)**

  * **서비스 활용도:** 월간 활성 사용자 수(MAU), 평균 세션 시간
  * **사용자 만족도:** 시뮬레이션 결과 공유 횟수, 만족도 설문조사 점수
  * **전환율:** 서비스 이용 후 제휴된 금융사의 연금 상품 페이지로 이동하는 비율 (향후 확장 시)