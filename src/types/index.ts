// 연금 플래너 360 타입 정의

export interface 입력값타입 {
  // 모듈 1 입력
  총급여액: number;
  연금저축납입액: number;
  연금저축한도초과납입액: number; // 세액공제 한도 초과분 (600만원 초과)
  IRP납입액: number;
  IRP한도초과납입액: number; // 세액공제 한도 초과분 (300만원 초과)
  만50세이상: boolean;

  // 모듈 2 입력
  현재나이: number;
  은퇴나이: number;
  연평균수익률: number; // % 단위

  // 모듈 3 입력
  연간수령액: number;
  연금외소득: number;
}

export interface 세액공제결과 {
  총납입액: number;
  세액공제대상금액: number;
  세액공제한도초과금액: number; // 세액공제 받지 않은 납입액
  적용세율: number;
  예상환급액: number;
}

export interface 미래자산결과 {
  총납입원금: number;
  세액공제대상원금: number; // 세액공제 받은 원금의 미래가치
  비과세원금: number; // 세액공제 받지 않은 원금의 미래가치
  총예상수익: number;
  총미래가치: number;
}

export interface 종합과세결과 {
  연금소득공제액: number;
  연금소득금액: number;
  총소득금액: number;
  인적공제: number;
  과세표준: number;
  산출소득세: number;
  지방소득세: number;
  총납부세액: number;
  세후실수령액: number;
}

export interface 분리과세결과 {
  적용세율: number;
  총납부세액: number;
  세후실수령액: number;
}

export interface 저율과세결과 {
  적용세율: number;
  총납부세액: number;
  세후실수령액: number;
}

export interface 연금수령시뮬레이션결과 {
  기준금액초과여부: boolean;
  종합과세: 종합과세결과;
  분리과세: 분리과세결과;
  저율과세: 저율과세결과;
}

export interface 자산변화연차데이터 {
  연차: number;
  나이: number;
  기초자산: number;
  연간운용수익: number;
  세전인출액: number; // PRD v2.4: 세전 인출액 추가
  납부세액: number; // PRD v2.4: 납부세액 추가
  세후인출액: number;
  기말자산: number;
  비과세원금잔액: number; // PRD v2.4: 비과세원금 잔액 추적
}

export interface 자산변화시뮬레이션결과 {
  시작자산: number;
  연평균수익률: number;
  연간수령요청액: number; // PRD v2.4: 변경됨 (이전: 세후연간인출액)
  예상고갈나이: number;
  지속가능년수: number;
  연차별데이터: 자산변화연차데이터[];
}

export interface 투자비교연차데이터 {
  연차: number;
  나이: number;
  일반계좌잔액: number;
  일반계좌연간세금: number;
  연금계좌잔액: number;
  연금계좌연간세금: number;
  누적세금차이: number;
}

export interface 투자비교결과 {
  일반계좌투자: {
    총투자원금: number;
    세전총평가액: number;
    배당세누적: number;
    양도소득세: number;
    총세금: number;
    세후수령액: number;
  };
  연금계좌투자: {
    총투자원금: number;
    세전총평가액: number;
    비과세원금: number;
    과세대상수익: number;
    연금소득세: number;
    총세금: number;
    세후수령액: number;
  };
  절약효과: {
    세금절약액: number;
    절약률: number;
    추가수익률: number;
  };
  연차별비교데이터: 투자비교연차데이터[];
}

export interface 결과값타입 {
  세액공제: 세액공제결과;
  미래자산: 미래자산결과;
  연금수령시뮬레이션: 연금수령시뮬레이션결과;
  자산변화시뮬레이션: 자산변화시뮬레이션결과;
  투자비교: 투자비교결과;
}

export interface 연금플래너상태 {
  입력값: 입력값타입;
  결과값: 결과값타입;
}

// 초기값 정의
export const 초기입력값: 입력값타입 = {
  총급여액: 90000000,
  연금저축납입액: 6000000,
  연금저축한도초과납입액: 0,
  IRP납입액: 3000000,
  IRP한도초과납입액: 0,
  만50세이상: true,
  현재나이: 35,
  은퇴나이: 60,
  연평균수익률: 5.0,
  연간수령액: 50000000,
  연금외소득: 0,
};

export const 초기결과값: 결과값타입 = {
  세액공제: {
    총납입액: 0,
    세액공제대상금액: 0,
    세액공제한도초과금액: 0,
    적용세율: 0,
    예상환급액: 0,
  },
  미래자산: {
    총납입원금: 0,
    세액공제대상원금: 0,
    비과세원금: 0,
    총예상수익: 0,
    총미래가치: 0,
  },
  연금수령시뮬레이션: {
    기준금액초과여부: false,
    종합과세: {
      연금소득공제액: 0,
      연금소득금액: 0,
      총소득금액: 0,
      인적공제: 0,
      과세표준: 0,
      산출소득세: 0,
      지방소득세: 0,
      총납부세액: 0,
      세후실수령액: 0,
    },
    분리과세: {
      적용세율: 0,
      총납부세액: 0,
      세후실수령액: 0,
    },
    저율과세: {
      적용세율: 0,
      총납부세액: 0,
      세후실수령액: 0,
    },
  },
  자산변화시뮬레이션: {
    시작자산: 0,
    연평균수익률: 0,
    연간수령요청액: 0,
    예상고갈나이: 0,
    지속가능년수: 0,
    연차별데이터: [],
  },
  투자비교: {
    일반계좌투자: {
      총투자원금: 0,
      세전총평가액: 0,
      배당세누적: 0,
      양도소득세: 0,
      총세금: 0,
      세후수령액: 0,
    },
    연금계좌투자: {
      총투자원금: 0,
      세전총평가액: 0,
      비과세원금: 0,
      과세대상수익: 0,
      연금소득세: 0,
      총세금: 0,
      세후수령액: 0,
    },
    절약효과: {
      세금절약액: 0,
      절약률: 0,
      추가수익률: 0,
    },
    연차별비교데이터: [],
  },
};